version: v1.0
name: Initial Pipeline
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: Build the code
    task:
      jobs:
        - name: 'Job #1'
          commands:
            - env
            - pwd
            - ls -Flag
            - checkout
            - pwd
            - ls -Flag
            - env
            - cd example.general/app
            - make help
            - make alldefconfig
            - make all
        - name: 'Job #2'
          commands:
            - pwd
            - ls -Flag
      prologue:
        commands:
          - sudo apt-get update
          - sudo apt-get install -y gcc-arm-none-eabi
  - name: Examine what was checkout out
    task:
      jobs:
        - name: 'Job #1'
          commands:
            - pwd
            - ls -Flas
